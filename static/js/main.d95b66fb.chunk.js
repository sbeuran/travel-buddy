(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,n,t){},126:function(e,n,t){"use strict";t.r(n);var a,r=t(2),c=t.n(r),o=t(20),i=t.n(o),l=t(30),s=t(0),u=t(11),d=t(7),b=t(8),p=t(9),m=p.a.button(a||(a=Object(b.a)(["\n    background-color: #374151;\n    color: white;\n    padding: 8px 12px;\n    border-radius: 4px;\n    border: none;\n    font-family: InterFont;\n\n    &:disabled {\n        background-color: #E5E7EB;\n    }\n"])));var f,j,O,v,E,g,x,h,w,C,S,k,y,F,D,M=function(e){var n=e.title,t=e.disabled,a=e.onClick;return c.a.createElement(m,{disabled:t,onClick:a},n)},N=t(46),L=t(58),z=p.a.div(f||(f=Object(b.a)(["\n    width: 100%;\n    display: flex;\n    align-items: start;\n    margin-bottom: 8px\n"]))),R=p.a.div(j||(j=Object(b.a)(["\n    position: relative;\n    width: 80px;\n    height: 30px;\n    margin-top: 22px;\n    font-size: 16px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),B=p.a.div(O||(O=Object(b.a)(["\n    position: absolute;\n    bottom: 100%;\n    border-left: dotted;\n    height: 50px;\n"]))),I=p.a.div(v||(v=Object(b.a)(["\n    display: flex;\n    align-items: center;\n"]))),P=p.a.div(E||(E=Object(b.a)(["\n    width: 240px;\n"]))),A=p.a.div(g||(g=Object(b.a)(["\n    width: 60px;\n    height: 30px;\n    font-size: 16px;\n    margin-top: 4px;\n    display: ",";\n    align-items: center;\n    justify-content: center;\n    color: #7786D2;\n"])),function(e){return e.isshown?"none":"flex"}),U=p.a.div(x||(x=Object(b.a)(["\n    margin-bottom: 4px;\n"]))),J=p.a.div(h||(h=Object(b.a)(["\n    color: #FF0000;\n    height: ",";\n"])),function(e){return e.isshown?"none":"16px"}),T=p.a.div(w||(w=Object(b.a)(["\n    position: relative;\n"]))),Y=p.a.div(C||(C=Object(b.a)(["\n    border: 1px solid #E5E7EB;\n    border-radius: 6px;\n    padding: 8px 12px 8px 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]))),q=p.a.input(S||(S=Object(b.a)(["\n    border: none;\n    flex: 1;\n    &:focus-visible {\n        outline: none;\n    }\n"]))),G=p.a.div(k||(k=Object(b.a)(["\n    display: ",";\n    color: #7786D2;\n    justify-content: center;\n    font-size: 16px;\n"])),function(e){return e.isshown?"flex":"none"}),H=p.a.div(y||(y=Object(b.a)(["\n    position: absolute;\n    top: calc(100% + 8px);\n    width: calc(100% - 12px);\n    display: ",";\n    flex-direction: column;\n    background-color: #FFFFFF;\n    border: 1px solid #C7D1F4;\n    padding: 6px;\n    border-radius: 8px;\n    z-index: 1;\n"])),function(e){return e.isshown?"flex":"none"}),V=p.a.div(F||(F=Object(b.a)(["\n    padding: 6px;\n    border-radius: 6px;\n    &:hover {\n        background-color: #C7D1F4;\n    }\n"]))),K=p.a.div(D||(D=Object(b.a)(['\n    position: absolute;\n    top: -8px;\n    left: 0px;\n    transform: translate(43px, 0px);\n    margin-top: -8px;\n    margin-left: -4px;\n    width: 0;\n    \n    &::before {\n        border-bottom-color: #C7D1F4 !important;\n        top: -1px;\n        border-top: none;\n        box-sizing: content-box;\n        position: absolute;\n        border: 8px solid transparent;\n        height: 0;\n        width: 1px;\n        content: "";\n        z-index: -1;\n        border-width: 8px;\n        left: -8px;\n    }\n\n    &::after {\n        border: none;\n        top: 0;\n        box-sizing: content-box;\n        position: absolute;\n        height: 0;\n        width: 1px;\n        content: "";\n        z-index: -1;\n    }\n']))),Q=[["Paris",48.856614,2.352222],["Marseille",43.296482,5.36978],["Lyon",45.764043,4.835659],["Toulouse",43.604652,1.444209],["Nice",43.710173,7.261953],["Nantes",47.218371,-1.553621],["Strasbourg",48.573405,7.752111],["Montpellier",43.610769,3.876716],["Bordeaux",44.837789,-.57918],["Lille",50.62925,3.057256],["Rennes",48.117266,-1.677793],["Reims",49.258329,4.031696],["Le Havre",49.49437,.107929],["Saint-\xc9tienne",45.439695,4.387178],["Toulon",43.124228,5.928],["Angers",47.478419,-.563166],["Grenoble",45.188529,5.724524],["Dijon",47.322047,5.04148],["N\xeemes",43.836699,4.360054],["Aix-en-Provence",43.529742,5.447427]];var W,X,Z,$=function(e){var n,t=e.label,a=e.selectedIndexes,o=e.onChange,i=e.value,l=e.origin,s=e.dest,u=e.onRemove,b=Object(r.useState)(!1),p=Object(d.a)(b,2),m=p[0],f=p[1],j=Object(r.useState)(!1),O=Object(d.a)(j,2),v=O[0],E=O[1],g=Object(r.useState)(),x=Object(d.a)(g,2),h=x[0],w=x[1],C=Object(r.useState)([]),S=Object(d.a)(C,2),k=S[0],y=S[1],F=Object(r.useRef)(null);return n=F,Object(r.useEffect)(function(){function e(e){n.current&&!n.current.contains(e.target)&&f(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[n]),Object(r.useEffect)(function(){var e=Q.map(function(e,n){return{value:n,label:e[0],disabled:!!a&&a.indexOf(n)>0}});if(h){var n=e.filter(function(e){return e.label.toString().toLocaleLowerCase().indexOf(h.toLocaleLowerCase())>-1});y(n)}else y(e)},[h]),Object(r.useEffect)(function(){w(i)},[i]),c.a.createElement(z,null,c.a.createElement(R,null,!l&&c.a.createElement(B,null),s?c.a.createElement(N.b,{color:"red",size:20}):c.a.createElement(N.c,null)),c.a.createElement(I,null,c.a.createElement(P,null,c.a.createElement(U,null,t),c.a.createElement(T,null,c.a.createElement(Y,null,c.a.createElement(q,{onFocus:function(){return f(!0)},value:h,onChange:function(e){w(e.target.value),e.target.value?E(!1):E(!0)}}),c.a.createElement(G,{isshown:!!h,onClick:function(){w(""),f(!0),o("")}},c.a.createElement(L.a,null))),c.a.createElement(H,{ref:F,isshown:m},c.a.createElement(K,null),k.length>0&&k.map(function(e,n){return c.a.createElement(V,{key:n,onClick:function(){return function(e){var n=Q[e][0];w(n),f(!1),E(!1),o(n)}(e.value)}},e.label)}))),c.a.createElement(J,{isshown:v},v&&"You must choose the city of origin")),c.a.createElement(A,{isshown:l,onClick:u},c.a.createElement(N.a,null))))},_=t(59),ee=p.a.div(W||(W=Object(b.a)(["\n    margin-top: 24px;\n    width: 100%;\n    display: flex;\n    align-items: start;\n    color: #7786D2;\n    cursor: pointer;\n"]))),ne=p.a.div(X||(X=Object(b.a)(["\n    width: 80px;\n    font-size: 16px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),te=p.a.div(Z||(Z=Object(b.a)(["\n"])));var ae,re,ce,oe,ie,le,se=function(e){var n=e.onClick;return c.a.createElement(ee,{onClick:n},c.a.createElement(ne,null,c.a.createElement(_.a,null)),c.a.createElement(te,null,"Add destination"))},ue=t(29),de=p.a.div(ae||(ae=Object(b.a)(["\n    margin-bottom: 8px;\n    margin-right: 16px;\n    display: flex;\n    flex-direction: column;\n    align-items: start;\n"]))),be=p.a.div(re||(re=Object(b.a)(["\n    margin-bottom: 4px;\n"]))),pe=p.a.div(ce||(ce=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    border: 1px solid ",";\n    padding: 8px;\n    border-radius: 6px;\n"])),function(e){return e.error?"#FF0000":"#E5E7EB"}),me=p.a.div(oe||(oe=Object(b.a)(["\n    display: ",";\n    color: #FF0000;\n"])),function(e){return e.error?"block":"none"}),fe=p.a.div(ie||(ie=Object(b.a)(["\n    width: 20px;\n    height: 20px;\n    border-radius: 4px;\n    background-color: #C7D1F4;\n    color: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:hover {\n        background-color: #7786D2;\n    }\n"]))),je=p.a.span(le||(le=Object(b.a)(["\n    margin: 0 8px;\n    text-align: center;\n    width: 24px;\n"])));var Oe,ve,Ee,ge,xe,he=function(e){var n=e.value,t=e.onChange,a=Object(r.useState)(!1),o=Object(d.a)(a,2),i=o[0],l=o[1],s=function(e){if(e){var a=n?parseInt(n):0;t((a+1).toString()),l(!1)}else n&&parseInt(n)>0?t((parseInt(n)-1).toString()):l(!0)};return c.a.createElement(de,null,c.a.createElement(be,null,"Passengers"),c.a.createElement(pe,{error:i},c.a.createElement(fe,{onClick:function(){return s(!1)}},c.a.createElement(ue.c,null)),c.a.createElement(je,null,n||0),c.a.createElement(fe,{onClick:function(){return s(!0)}},c.a.createElement(ue.d,null))),c.a.createElement(me,{error:i},"Select passengers"))},we=t(60),Ce=t.n(we),Se=p.a.div(Oe||(Oe=Object(b.a)(["\n    position: relative;\n"]))),ke=p.a.div(ve||(ve=Object(b.a)(["\n    background-color: #C7D1F4;\n    padding: 8px;\n    border-radius: 4px;\n    border: 1px solid #E5E7EB;\n    cursor: pointer;\n"]))),ye=p.a.div(Ee||(Ee=Object(b.a)(["\n    position: absolute;\n    top: calc(100% + 8px);\n    display: ",";\n    border: 1px solid #E5E7EB;\n    background-color: white;\n    flex-direction: column;\n    padding: 4px;\n    border-radius: 4px;\n"])),function(e){return e.isshown?"flex":"none"}),Fe=p.a.div(ge||(ge=Object(b.a)(["\n    padding: 4px;\n    border-radius: 4px;\n    cursor: pointer;\n\n    &:hover {\n        background-color: #C7D1F4;\n    }\n"]))),De=p.a.div(xe||(xe=Object(b.a)(['\n    position: absolute;\n    top: -8px;\n    left: 0px;\n    transform: translate(18px, 0px);\n    margin-top: -8px;\n    margin-left: -4px;\n    width: 0;\n    \n    &::before {\n        border-bottom-color: #C7D1F4 !important;\n        top: -1px;\n        border-top: none;\n        box-sizing: content-box;\n        position: absolute;\n        border: 8px solid transparent;\n        height: 0;\n        width: 1px;\n        content: "";\n        z-index: -1;\n        border-width: 8px;\n        left: -8px;\n    }\n\n    &::after {\n        border: none;\n        top: 0;\n        box-sizing: content-box;\n        position: absolute;\n        height: 0;\n        width: 1px;\n        content: "";\n        z-index: -1;\n    }\n'])));var Me,Ne,Le,ze,Re,Be,Ie,Pe,Ae=function(e){var n,t=e.value,a=e.options,o=e.onChange,i=Object(r.useState)(!1),l=Object(d.a)(i,2),s=l[0],u=l[1],b=Object(r.useRef)(null);return n=b,Object(r.useEffect)(function(){function e(e){n.current&&!n.current.contains(e.target)&&u(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[n]),c.a.createElement(Se,null,c.a.createElement(ke,{onClick:function(){return u(!0)}},t),c.a.createElement(ye,{ref:b,isshown:s},c.a.createElement(De,null),a.map(function(e,n){return c.a.createElement(Fe,{key:n,onClick:function(){return function(e){u(!1),o(e)}(a.indexOf(e))}},e)})))},Ue=p.a.div(Me||(Me=Object(b.a)(["\n \n"]))),Je=p.a.div(Ne||(Ne=Object(b.a)(["\n    display: flex;\n"]))),Te=p.a.div(Le||(Le=Object(b.a)(["\n    margin-bottom: 4px;\n"]))),Ye=p.a.div(ze||(ze=Object(b.a)(["\n    border: 1px solid #E5E7EB;\n    border-radius: 6px;\n    padding: 10px;\n"]))),qe=p.a.div(Re||(Re=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0 8px;\n"]))),Ge=p.a.div(Be||(Be=Object(b.a)(["\n    font-size: 16px;\n"]))),He=(p.a.div(Ie||(Ie=Object(b.a)([""]))),p.a.div(Pe||(Pe=Object(b.a)([""]))),t(70),t(88)),Ve=t(90);var Ke=function(e){var n=e.value,t=e.onChangeDate,a=Object(r.useState)(new Date),o=Object(d.a)(a,2),i=o[0],l=o[1],s=[2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034],u=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],b=Object(r.forwardRef)(function(e,n){var t=e.value,a=e.onClick;return c.a.createElement(Ye,{onClick:a},t)});return Object(r.useEffect)(function(){var e=n?new Date(n):new Date;l(e),t(e.toDateString())},[n]),c.a.createElement(Ue,null,c.a.createElement(Te,null,"Date"),c.a.createElement(Ce.a,{customInput:c.a.createElement(b,null),renderCustomHeader:function(e){var n=e.date,t=e.changeYear,a=e.changeMonth,r=e.decreaseMonth,o=e.increaseMonth;return c.a.createElement(qe,null,c.a.createElement(Ge,{onClick:r},c.a.createElement(ue.a,null)),c.a.createElement(Je,null,c.a.createElement(Ae,{value:u[Object(He.default)(n)],onChange:a,options:u}),c.a.createElement(Ae,{value:Object(Ve.default)(n),onChange:t,options:s})),c.a.createElement(Ge,{onClick:o},c.a.createElement(ue.b,null)))},selected:i,onChange:function(e){t(e.toDateString())}}))};var Qe,We,Xe,Ze,$e,_e,en,nn=function(){var e=Object(s.n)(),n=Object(s.l)(),t=Object(r.useState)(""),a=Object(d.a)(t,2),o=a[0],i=a[1],l=Object(r.useState)([]),b=Object(d.a)(l,2),p=b[0],m=b[1],f=Object(r.useState)(""),j=Object(d.a)(f,2),O=j[0],v=j[1],E=Object(r.useState)(""),g=Object(d.a)(E,2),x=g[0],h=g[1],w=Object(r.useState)(""),C=Object(d.a)(w,2),S=C[0],k=C[1],y=Object(r.useState)([]),F=Object(d.a)(y,2),D=(F[0],F[1],Object(r.useState)([])),N=Object(d.a)(D,2),L=(N[0],N[1],Object(r.useState)([])),z=Object(d.a)(L,2),R=(z[0],z[1],Object(r.useState)(!1)),B=Object(d.a)(R,2),I=B[0],P=B[1];Object(r.useEffect)(function(){var e=new URLSearchParams(n.search);i(e.get("origin")||"")},[n]),Object(r.useEffect)(function(){P(!(o&&O&&x&&S))},[o,O,x,S]);var A=function(e){return function(n){var t=Object(u.a)(p);t[e]=n,m(t)}},U=function(e){v(e)};return c.a.createElement("div",{className:"page"},c.a.createElement("form",{onSubmit:function(n){if(n.preventDefault(),o&&O&&x&&S){P(!1);var t=new URLSearchParams;t.set("origin",o),t.set("destination",O);var a=p.filter(function(e){return""!==e});t.set("intermediateCities",a.toString()),t.set("date",x),t.set("passengers",S),e("/search-results?".concat(t.toString()))}else P(!0)}},c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"city-container"},c.a.createElement($,{label:"City of Origin",origin:!0,dest:!1,onChange:function(e){i(e)},value:o}),p.map(function(e,n){return c.a.createElement($,{label:"City of destination",origin:!1,dest:n+1===p.length,onChange:n+1===p.length?U:A(n),onRemove:function(){return function(e){var n=Object(u.a)(p);n.splice(e,1),m(n)}(n)},value:e})}),c.a.createElement(se,{onClick:function(){m([].concat(Object(u.a)(p),[""]))}})),c.a.createElement("div",{className:"date-passengers"},c.a.createElement(he,{value:S,onChange:function(e){k(e)}}),c.a.createElement(Ke,{value:x,onChangeDate:function(e){h(e)}}))),c.a.createElement(M,{type:"submit",title:"Submit",disabled:I,onClick:function(){}})))},tn=p.a.div(Qe||(Qe=Object(b.a)(["\n"])));p.a.div(We||(We=Object(b.a)([""]))),p.a.div(Xe||(Xe=Object(b.a)([""]))),p.a.div(Ze||(Ze=Object(b.a)([""]))),p.a.div($e||($e=Object(b.a)([""]))),p.a.div(_e||(_e=Object(b.a)([""]))),p.a.div(en||(en=Object(b.a)([""])));var an=function(e){return e.cities,e.distances,c.a.createElement(tn,null)};var rn=function(){var e=Object(s.l)(),n=Object(r.useState)(""),t=Object(d.a)(n,2),a=t[0],o=t[1],i=Object(r.useState)([]),l=Object(d.a)(i,2),b=l[0],p=l[1],m=Object(r.useState)([]),f=Object(d.a)(m,2),j=f[0],O=f[1],v=Object(r.useState)(""),E=Object(d.a)(v,2),g=E[0],x=E[1],h=Object(r.useState)(""),w=Object(d.a)(h,2),C=w[0],S=w[1],k=Object(r.useState)(""),y=Object(d.a)(k,2),F=y[0],D=y[1],N=Object(r.useState)(""),L=Object(d.a)(N,2),z=L[0],R=L[1],B=Object(r.useState)([]),I=Object(d.a)(B,2),P=I[0],A=I[1],U=Object(r.useState)(!1),J=Object(d.a)(U,2),T=J[0],Y=J[1],q=Object(r.useState)(!1),G=Object(d.a)(q,2),H=G[0],V=G[1];Object(r.useEffect)(function(){var n=new URLSearchParams(e.search);o(n.get("origin")||""),x(n.get("destination")||"");var t=n.get("intermediateCities");p(t?t.split(","):[]),S(n.get("date")||""),D(n.get("passengers")||"")},[e]),Object(r.useEffect)(function(){""!==a&&""!==g&&K()},[a,g]);var K=function(){Y(!0),V(!1),setTimeout(function(){try{var e=Q.reduce(function(e,n){var t=Object(d.a)(n,3),a=t[0],r=t[1],c=t[2];return e[a]={lat:parseFloat(r.toString()),lon:parseFloat(c.toString())},e},{}),n=[a].concat(Object(u.a)(b),[g]);O(n);for(var t=0,r=0;r<n.length-1;r++){var c=n[r],o=n[r+1],i=e[c],l=e[o];if(!i||!l)throw new Error("Invalid cities for distance calculation");var s=W(i,l);A([].concat(Object(u.a)(P),[s])),t+=s}R(t.toFixed(2)),Y(!1)}catch(H){console.log(H),R(""),Y(!1),V(!0)}},500)},W=function(e,n){var t=function(e){return e*Math.PI/180},a=t(n.lat-e.lat),r=t(n.lon-e.lon),c=t(e.lat),o=t(n.lat),i=Math.sin(a/2)*Math.sin(a/2)+Math.sin(r/2)*Math.sin(r/2)*Math.cos(c)*Math.cos(o);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371};return c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"result"},T?c.a.createElement("p",null,"Loading..."):c.a.createElement(c.a.Fragment,null,H?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Oops! Something went wrong!")):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Origin: ",a),c.a.createElement("p",null,"Intermediate Cities: ",b.join(", ")),c.a.createElement("p",null,"Destination: ",g),c.a.createElement(an,{cities:j,distances:P}),c.a.createElement("p",null,c.a.createElement("span",{className:"color-font"},z," km")," is total distance"),c.a.createElement("p",null,c.a.createElement("span",{className:"color-font"},F)," Passengers"),c.a.createElement("p",{className:"color-font"},C))),c.a.createElement(M,{title:"Back",disabled:!1,onClick:function(){}})))};t(122);var cn=function(){return c.a.createElement("div",{className:"container"},c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/",element:c.a.createElement(nn,null)}),c.a.createElement(s.a,{path:"/search-results",element:c.a.createElement(rn,null)})),c.a.createElement("div",{className:"background"}))};i.a.render(c.a.createElement(l.a,null,c.a.createElement(cn,null)),document.getElementById("root"))},63:function(e,n,t){e.exports=t(126)}},[[63,2,1]]]);
//# sourceMappingURL=main.d95b66fb.chunk.js.map